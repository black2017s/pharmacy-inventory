<!DOCTYPE html>
<html lang="ar" dir="rtl">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ù„ÙˆØ­Ø© ØªØ­ÙƒÙ… Ø§Ù„Ù…ÙˆØ¸Ù</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/lucide@latest/dist/umd/lucide.js"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Cairo:wght@400;700;900&display=swap');

        body {
            font-family: 'Cairo', sans-serif;
            background-color: #f3f4f6;
        }

        /* Style for the responsive table on small screens */
        @media (max-width: 640px) {
            .responsive-table tr {
                display: grid;
                grid-template-columns: repeat(2, 1fr);
                gap: 0.5rem;
                padding: 1rem 0;
                border-bottom: 1px solid #e5e7eb;
            }

            .responsive-table thead {
                display: none;
            }

            .responsive-table td {
                display: flex;
                align-items: center;
                justify-content: space-between;
                font-size: 0.9rem;
            }

            .responsive-table td::before {
                content: attr(data-label) ": ";
                font-weight: 600;
                color: #4b5563;
                margin-left: 0.5rem;
            }

            /* Ø¥Ø®ÙØ§Ø¡ Ø¹Ù…ÙˆØ¯ Ø§Ù„Ø¥Ø¬Ø±Ø§Ø¡Ø§Øª Ø¨Ø§Ù„ÙƒØ§Ù…Ù„ Ù…Ù† Ø¹Ø±Ø¶ Ø§Ù„Ù…ÙˆØ¸Ù */
            .responsive-table td[data-label="Ø§Ù„Ø¥Ø¬Ø±Ø§Ø¡Ø§Øª"] {
                display: none;
            }
        }
    </style>
    <script type="module">
        // ** Firebase Imports **
        import { initializeApp } from "https://www.gstatic.com/firebasejs/9.23.0/firebase-app.js";
        import { getAuth } from "https://www.gstatic.com/firebasejs/9.23.0/firebase-auth.js";
        import { getFirestore, collection, onSnapshot, query, orderBy } from "https://www.gstatic.com/firebasejs/9.23.0/firebase-firestore.js";

        // ğŸ’¡ Ø§Ø³ØªÙŠØ±Ø§Ø¯ Ù…Ù†Ø·Ù‚ Ø§Ù„Ù…ØµØ§Ø¯Ù‚Ø© ÙˆØ§Ù„ØªØ­ÙƒÙ… Ø¨Ø§Ù„ØµÙ„Ø§Ø­ÙŠØ§Øª
        import { startAppAuthentication, signOutUser } from "./auth.js";

        // ----------------------------------------------------
        // âš ï¸ Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø§Ù„Ø®Ø§ØµØ© Ø¨Ù€ Firebase - ÙŠØ¬Ø¨ Ø§Ù„ØªØ£ÙƒØ¯ Ù…Ù† ØµØ­ØªÙ‡Ø§ âš ï¸
        // ----------------------------------------------------
        const firebaseConfig = {
            // ğŸš¨ Ø§Ø³ØªØ®Ø¯Ù… Ù†ÙØ³ Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ù…Ø´Ø±ÙˆØ¹Ùƒ ğŸš¨
            apiKey: "AIzaSyA4BNXa8M324RgB3PN-EsbS8qEE2Grapfo",
            authDomain: "pharmacy-inventory-24e09.firebaseapp.com",
            projectId: "pharmacy-inventory-24e09",
            storageBucket: "pharmacy-inventory-24e09.firebasestorage.app",
            messagingSenderId: "274983528396",
            appId: "1:274983528396:web:1573e6d3600a0f20641f69",
            measurementId: "G-PT6B0BXC4H"
        };


        // --- Firebase Initialization ---
        const app = initializeApp(firebaseConfig);
        const db = getFirestore(app);
        const auth = getAuth(app);
        let unsubscribeFromFirestore = null;

        // --- Global State ---
        let inventory = [];
        let currentSort = { column: 'name', direction: 'asc' };
        let currentFilter = { query: '', category: 'Ø§Ù„ÙƒÙ„' };

        // ğŸ’¡ Ù†ÙØ³ ÙØ¦Ø§Øª Ø§Ù„Ù…Ø®Ø²ÙˆÙ† Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…Ø© ÙÙŠ index.html
        const inventoryCategories = [
            "Ø§Ø¯ÙˆÙŠØ© Ø§Ù„Ø§Ù‚Ø±Ø§Øµ", "Ø§Ù„Ù„Ø¨ÙˆØ³", "Ø§Ù„ÙÙˆØ§Ø±", "Ø§Ù„ØªØ¬Ù…ÙŠÙ„",
            "Ø±ÙØ§ÙŠØ¹ Ø§Ù„ÙƒÙˆØ²Ù…Ø²", "Ø§Ù„Ø­Ù‚Ù†", "Ø§Ù„Ù…Ø¶Ø§Ø¯ Ø§Ù„Ø­ÙŠÙˆÙŠ", "Ø§Ø¯ÙˆÙŠØ© Ø§Ù„Ø´Ø±Ø¨",
            "Ø§Ù„ÙƒØ±ÙŠÙ…Ø§Øª ÙˆØ§Ù„Ù…Ø±Ø§Ù‡Ù…", "Ø§Ù„Ù‚Ø·Ø±Ø§Øª", "Ø§Ù„ÙÙŠØªØ§Ù…ÙŠÙ†Ø§Øª"
        ];

        // --- Utility Functions (Ù†ÙØ³ Ø§Ù„Ø¯ÙˆØ§Ù„ Ø§Ù„Ù…Ø³Ø§Ø¹Ø¯Ø© ÙÙŠ index.html) ---
        const formatNumber = (num) => new Intl.NumberFormat('ar-EG').format(num);
        const normalizeText = (text) => {
            if (!text) return '';
            return String(text).toLowerCase().replace(/[^\w\s\u0600-\u06FF]/g, '').replace(/\s/g, '');
        };


        // --- Firestore Helpers ---
        // ğŸ’¥ Ø§Ù„Ø¯Ø§Ù„Ø© Ø§Ù„ØªÙŠ ØªØ¬Ù„Ø¨ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ù…Ù† Ø§Ù„Ù…Ø³Ø§Ø± Ø§Ù„Ù…Ø´ØªØ±Ùƒ (Shared Inventory)
        const getInventoryCollectionRef = () => {
            const rawAppId = firebaseConfig.appId || 'default-inventory';
            const appId = rawAppId.replace(/[^a-zA-Z0-9_-]/g, '_');
            // Ù…Ø³Ø§Ø± Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…Ø´ØªØ±ÙƒØ©
            return collection(db, `artifacts/${appId}/shared_inventory`);
        };


        // --------------------------------------------------
        // ** Ù…Ù†Ø·Ù‚ Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø§Ù„ØµÙ„Ø§Ø­ÙŠØ§Øª ÙˆØ§Ù„Ø¥Ø¹Ø¯Ø§Ø¯ (SETUP UI) **
        // --------------------------------------------------

        // ğŸ’¡ Ø¯Ø§Ù„Ø© Ø¥Ø¹Ø¯Ø§Ø¯ ÙˆØ§Ø¬Ù‡Ø© Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… Ø¨Ø¹Ø¯ Ø§Ù„Ù…ØµØ§Ø¯Ù‚Ø© (ØªÙØ³ØªØ¯Ø¹Ù‰ Ù…Ù† auth.js)
        const setupUI = (role) => {
            // ÙŠØªÙ… Ø§Ø³ØªØ¯Ø¹Ø§Ø¡ Ù‡Ø°Ù‡ Ø§Ù„Ø¯Ø§Ù„Ø© ÙÙ‚Ø· ÙÙŠ Ø­Ø§Ù„Ø© Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… (employee)
            document.getElementById('loading-state').style.display = 'none';
            document.getElementById('main-app').classList.remove('hidden');
            if (typeof lucide !== 'undefined') { lucide.createIcons(); }
            renderCategoryFilter();
        };

        // ğŸ’¡ Ø¯Ø§Ù„Ø© Ø¨Ø¯Ø¡ Ø§Ù„Ø§Ø³ØªÙ…Ø§Ø¹ ÙÙŠ Ø§Ù„ÙˆÙ‚Øª Ø§Ù„Ø­Ù‚ÙŠÙ‚ÙŠ (ØªÙØ³ØªØ¯Ø¹Ù‰ Ù…Ù† auth.js)
        const setupRealtimeListener = () => {
            // Ù„Ù… Ù†Ø¹Ø¯ Ù†Ø­ØªØ§Ø¬ Ù„ØªÙ…Ø±ÙŠØ± userId Ù„Ø£Ù† Ø§Ù„Ù…Ø³Ø§Ø± Ù…Ø´ØªØ±Ùƒ
            if (unsubscribeFromFirestore) {
                unsubscribeFromFirestore();
            }

            try {
                const collectionRef = getInventoryCollectionRef();
                const q = query(collectionRef, orderBy(currentSort.column, currentSort.direction));

                unsubscribeFromFirestore = onSnapshot(q, (snapshot) => {
                    const loadedItems = [];
                    snapshot.forEach(doc => {
                        const data = doc.data();
                        loadedItems.push({
                            id: doc.id,
                            ...data,
                            quantity: Number(data.quantity || 0),
                            minQuantity: Number(data.minQuantity || 0),
                            publicPrice: Number(data.publicPrice || 0),
                            costPrice: Number(data.costPrice || 0)
                        });
                    });

                    inventory = loadedItems;
                    renderApp();

                }, (error) => {
                    console.error("Firestore Listen Error:", error);
                    document.getElementById('data-error-message').innerHTML = `
                            <div class="bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative mb-4 flex items-center" role="alert">
                                <i data-lucide="alert-triangle" class="w-5 h-5 ml-2"></i>
                                <span>ÙØ´Ù„ ØªØ­Ù…ÙŠÙ„ Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…Ø®Ø²ÙˆÙ†: ${error.message} (ÙŠØ±Ø¬Ù‰ Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ù‚ÙˆØ§Ø¹Ø¯ Ø£Ù…Ø§Ù† Firebase).</span>
                            </div>
                        `;
                    inventory = [];
                    renderApp();
                    if (typeof lucide !== 'undefined') { lucide.createIcons(); }
                });
            } catch (e) {
                console.error("Error setting up Firestore listener:", e);
            }
        };

        // --------------------------------------------------
        // ** Ø¯ÙˆØ§Ù„ Ø§Ù„Ø¹Ø±Ø¶ ÙˆØ§Ù„ÙØ±Ø² (Rendering & Filtering) **
        // --------------------------------------------------

        const filterInventory = (items) => {
            const { query: search, category } = currentFilter;
            let filtered = items;
            if (category !== 'Ø§Ù„ÙƒÙ„') {
                filtered = filtered.filter(item => item.category === category);
            }
            if (search) {
                const lowerSearch = normalizeText(search);
                filtered = filtered.filter(item =>
                    normalizeText(item.name).includes(lowerSearch) ||
                    normalizeText(item.category).includes(lowerSearch) ||
                    normalizeText(item.code).includes(lowerSearch)
                );
            }
            return filtered;
        };

        const filterAndSort = () => {
            renderApp();
        }

        const handleSortChange = (column) => {
            if (currentSort.column === column) {
                currentSort.direction = currentSort.direction === 'asc' ? 'desc' : 'asc';
            } else {
                currentSort.column = column;
                currentSort.direction = 'asc';
            }
            setupRealtimeListener();
        };

        const renderApp = () => {
            const filteredItems = filterInventory(inventory);
            calculateAndRenderTotals(filteredItems);
            renderInventory(filteredItems);
            renderCategoryFilter();
        };

        const renderInventory = (items) => {
            const tbody = document.getElementById('inventory-tbody');
            if (!tbody) return;
            tbody.innerHTML = items.length === 0 ?
                `<tr><td colspan="9" class="text-center py-4 text-gray-500">Ù„Ø§ ØªÙˆØ¬Ø¯ Ø£ØµÙ†Ø§Ù Ù„Ø¹Ø±Ø¶Ù‡Ø§.</td></tr>` :
                items.map(item => {
                    const profitPerUnit = item.publicPrice - item.costPrice;
                    const totalProfit = profitPerUnit * item.quantity;
                    const statusClass = item.quantity <= item.minQuantity ? 'bg-red-100 text-red-700' :
                        item.quantity === 0 ? 'bg-gray-200 text-gray-700' :
                            'text-green-700';
                    const statusText = item.quantity <= item.minQuantity ? 'ÙƒÙ…ÙŠØ© Ù…Ù†Ø®ÙØ¶Ø©!' :
                        item.quantity === 0 ? 'Ù†ÙØ¯ Ø§Ù„Ù…Ø®Ø²ÙˆÙ†' : 'Ù…ØªÙˆÙØ±';
                    const expiry = item.expiryDate || 'N/A';

                    return `
                    <tr class="hover:bg-gray-50">
                        <td data-label="Ø§Ø³Ù… Ø§Ù„ØµÙ†Ù" class="px-3 py-3 text-sm font-medium text-gray-900">${item.name || 'N/A'}</td>
                        <td data-label="Ø§Ù„ÙƒÙˆØ¯/Ø§Ù„Ø¨Ø§Ø±ÙƒÙˆØ¯" class="px-3 py-3 text-sm text-gray-500" dir="ltr">${item.code || 'N/A'}</td>
                        <td data-label="Ø§Ù„ÙØ¦Ø©" class="px-3 py-3 text-sm text-gray-500">${item.category || 'Ø£Ø®Ø±Ù‰'}</td>
                        <td data-label="Ø§Ù„ÙƒÙ…ÙŠØ©" class="px-3 py-3 text-sm text-gray-700 font-semibold">${formatNumber(item.quantity)}</td>
                        <td data-label="Ø³Ø¹Ø± Ø§Ù„Ø¬Ù…Ù‡ÙˆØ±" class="px-3 py-3 text-sm text-gray-500">${formatNumber(item.publicPrice)}</td>
                        <td data-label="Ø³Ø¹Ø± Ø§Ù„ØªÙƒÙ„ÙØ©" class="px-3 py-3 text-sm text-gray-500">${formatNumber(item.costPrice)}</td>
                        <td data-label="Ø§Ù„Ø±Ø¨Ø­/Ø§Ù„ÙˆØ­Ø¯Ø©" class="px-3 py-3 text-sm text-gray-700">${formatNumber(profitPerUnit)}</td>
                        <td data-label="Ø§Ù„Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„Ù…Ø­ØªÙ…Ù„" class="px-3 py-3 text-sm text-gray-700">${formatNumber(totalProfit)}</td>
                        <td data-label="ØªØ§Ø±ÙŠØ® Ø§Ù„Ø§Ù†ØªÙ‡Ø§Ø¡" class="px-3 py-3 text-sm text-gray-500" dir="ltr">${expiry}</td>
                        <td data-label="Ø§Ù„Ø­Ø§Ù„Ø©" class="px-3 py-3">
                            <span class="px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${statusClass}">
                                ${statusText}
                            </span>
                        </td>
                        <td data-label="Ø§Ù„Ø¥Ø¬Ø±Ø§Ø¡Ø§Øª" class="px-3 py-3 text-right text-sm font-medium">
                            </td>
                    </tr>
                `;
                }).join('');

            document.getElementById('no-results-message').classList.toggle('hidden', items.length > 0);
            if (typeof lucide !== 'undefined') { lucide.createIcons(); }
        };

        const calculateAndRenderTotals = (items) => {
            const totalStockValue = items.reduce((sum, item) => sum + (item.costPrice * item.quantity), 0);
            const totalPublicValue = items.reduce((sum, item) => sum + (item.publicPrice * item.quantity), 0);
            const totalPotentialProfit = totalPublicValue - totalStockValue;
            const totalItemsCount = items.length;

            const totalsHtml = `
                <div class="p-3 bg-teal-50 rounded-lg border border-teal-200">
                    <p class="text-xs font-medium text-teal-600">Ø§Ù„Ù‚ÙŠÙ…Ø© Ø§Ù„Ø¥Ø¬Ù…Ø§Ù„ÙŠØ© Ù„Ù„ØªÙƒÙ„ÙØ©</p>
                    <p class="text-xl font-bold text-teal-900">${formatNumber(totalStockValue)} Ø¬.Ù…</p>
                </div>
                <div class="p-3 bg-blue-50 rounded-lg border border-blue-200">
                    <p class="text-xs font-medium text-blue-600">Ø§Ù„Ù‚ÙŠÙ…Ø© Ø§Ù„Ø¥Ø¬Ù…Ø§Ù„ÙŠØ© Ù„Ù„Ø¬Ù…Ù‡ÙˆØ±</p>
                    <p class="text-xl font-bold text-blue-900">${formatNumber(totalPublicValue)} Ø¬.Ù…</p>
                </div>
                <div class="p-3 bg-green-50 rounded-lg border border-green-200">
                    <p class="text-xs font-medium text-green-600">Ø§Ù„Ø±Ø¨Ø­ Ø§Ù„Ù…Ø­ØªÙ…Ù„</p>
                    <p class="text-xl font-bold text-green-900">${formatNumber(totalPotentialProfit)} Ø¬.Ù…</p>
                </div>
                <div class="p-3 bg-gray-50 rounded-lg border border-gray-200">
                    <p class="text-xs font-medium text-gray-600">Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø¹Ø¯Ø¯ Ø§Ù„Ø£ØµÙ†Ø§Ù</p>
                    <p class="text-xl font-bold text-gray-900">${formatNumber(totalItemsCount)}</p>
                </div>
            `;
            document.getElementById('totals-summary').innerHTML = totalsHtml;
        };

        const renderCategoryFilter = () => {
            const container = document.getElementById('category-filter-container');
            const optionsHtml = inventoryCategories.map(cat =>
                `<option value="${cat}" ${currentFilter.category === cat ? 'selected' : ''}>${cat}</option>`
            ).join('');

            container.innerHTML = `
                <select id="category-filter"
                    class="block w-full rounded-lg border-gray-300 py-2.5 text-right focus:border-indigo-500 focus:ring-indigo-500 text-sm"
                    onchange="currentFilter.category = this.value; filterAndSort()">
                    <option value="Ø§Ù„ÙƒÙ„">Ø¬Ù…ÙŠØ¹ Ø§Ù„ÙØ¦Ø§Øª</option>
                    ${optionsHtml}
                </select>
            `;
        };

        // --------------------------------------------------
        // ** Ø¨Ø¯Ø¡ Ø§Ù„ØªØ·Ø¨ÙŠÙ‚ Ø¨Ø¹Ø¯ ØªØ­Ù…ÙŠÙ„ Ø§Ù„ØµÙØ­Ø© **
        // --------------------------------------------------

        document.addEventListener('DOMContentLoaded', () => {
            // ğŸ’¥ Ø¨Ø¯Ø¡ Ø¹Ù…Ù„ÙŠØ© Ø§Ù„Ù…ØµØ§Ø¯Ù‚Ø© ÙˆÙØ­Øµ Ø§Ù„ØµÙ„Ø§Ø­ÙŠØ§Øª (Ø§Ù„ØªÙˆØ¬ÙŠÙ‡ Ù„Ù€ employee_dashboard ÙŠØªÙ… ÙÙŠ auth.js)
            startAppAuthentication(auth, db, setupUI, setupRealtimeListener);

            // ğŸ’¡ Ø±Ø¨Ø· Ø²Ø± ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø®Ø±ÙˆØ¬ Ø¨Ø§Ù„Ø¯Ø§Ù„Ø© Ø§Ù„Ù…Ø³ØªÙˆØ±Ø¯Ø©
            window.signOutUser = () => signOutUser(auth);

            if (typeof lucide !== 'undefined') { lucide.createIcons(); }
        });
    </script>
</head>

<body class="flex flex-col min-h-screen bg-gray-100" dir="rtl">

    <div id="loading-state" class="fixed inset-0 bg-white z-50 flex items-center justify-center flex-col">
        <i data-lucide="loader-2" class="w-12 h-12 text-indigo-500 animate-spin"></i>
        <p class="mt-4 text-gray-700 font-semibold">Ø¬Ø§Ø±ÙŠ Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø§Ù„ØµÙ„Ø§Ø­ÙŠØ§Øª ÙˆØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª...</p>
    </div>

    <div id="main-app" class="hidden flex-grow flex flex-col">
        <header class="bg-indigo-600 shadow-lg sticky top-0 z-10">
            <div class="max-w-8xl mx-auto px-4 sm:px-6 lg:px-8">
                <div class="flex justify-between items-center py-4">
                    <h1 class="text-2xl font-extrabold text-white flex items-center">
                        <i data-lucide="user-check" class="w-7 h-7 ml-2"></i>
                        Ù†Ø¸Ø§Ù… Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ù…Ø®Ø²ÙˆÙ† (Ù„ÙˆØ­Ø© Ø§Ù„Ù…ÙˆØ¸Ù - Ø¹Ø±Ø¶ ÙÙ‚Ø·)
                    </h1>
                    <button onclick="window.signOutUser()"
                        class="bg-red-500 hover:bg-red-700 text-white py-2 px-4 rounded-lg shadow-md transition flex items-center">
                        <i data-lucide="log-out" class="w-5 h-5 ml-2"></i>
                        ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø®Ø±ÙˆØ¬
                    </button>
                </div>
            </div>
        </header>

        <main class="max-w-8xl mx-auto px-4 sm:px-6 lg:px-8 py-8 flex-grow">
            <div id="data-error-message"></div>

            <div id="totals-summary"
                class="grid grid-cols-2 md:grid-cols-4 gap-4 bg-white p-4 rounded-lg shadow-lg mb-6">
            </div>

            <div class="bg-white p-4 rounded-lg shadow-lg mb-6">
                <div class="flex flex-col sm:flex-row gap-4 mb-4">
                    <div class="relative flex-grow">
                        <input type="text" id="search-input" placeholder="Ø§Ù„Ø¨Ø­Ø« Ø¨Ø§Ø³Ù… Ø§Ù„ØµÙ†ÙØŒ Ø§Ù„ÙƒÙˆØ¯ØŒ Ø£Ùˆ Ø§Ù„ÙØ¦Ø©..."
                            class="block w-full rounded-lg border-gray-300 pr-10 pl-4 py-2 text-right focus:border-indigo-500 focus:ring-indigo-500 text-sm"
                            dir="rtl" oninput="currentFilter.query = this.value; filterAndSort()">
                        <div
                            class="absolute inset-y-0 right-0 flex items-center pr-3 pointer-events-none text-gray-400">
                            <i data-lucide="search" class="w-5 h-5"></i>
                        </div>
                    </div>
                    <div class="relative w-full sm:w-auto" id="category-filter-container">
                    </div>
                </div>

                <div class="overflow-x-auto">
                    <table class="min-w-full divide-y divide-gray-200 responsive-table">
                        <thead>
                            <tr>
                                <th scope="col" data-sort="name"
                                    class="px-3 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-gray-200 transition"
                                    onclick="handleSortChange('name')">
                                    Ø§Ø³Ù… Ø§Ù„ØµÙ†Ù <span id="sort-icon-name"></span>
                                </th>
                                <th scope="col" data-sort="code"
                                    class="px-3 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-gray-200 transition"
                                    onclick="handleSortChange('code')">
                                    Ø§Ù„ÙƒÙˆØ¯/Ø§Ù„Ø¨Ø§Ø±ÙƒÙˆØ¯ <span id="sort-icon-code"></span>
                                </th>
                                <th scope="col" data-sort="category"
                                    class="px-3 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-gray-200 transition"
                                    onclick="handleSortChange('category')">
                                    Ø§Ù„ÙØ¦Ø© <span id="sort-icon-category"></span>
                                </th>
                                <th scope="col" data-sort="quantity"
                                    class="px-3 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-gray-200 transition"
                                    onclick="handleSortChange('quantity')">
                                    Ø§Ù„ÙƒÙ…ÙŠØ© <span id="sort-icon-quantity"></span>
                                </th>
                                <th scope="col" data-sort="publicPrice"
                                    class="px-3 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-gray-200 transition"
                                    onclick="handleSortChange('publicPrice')">
                                    Ø³Ø¹Ø± Ø§Ù„Ø¬Ù…Ù‡ÙˆØ± <span id="sort-icon-publicPrice"></span>
                                </th>
                                <th scope="col" data-sort="costPrice"
                                    class="px-3 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-gray-200 transition"
                                    onclick="handleSortChange('costPrice')">
                                    Ø³Ø¹Ø± Ø§Ù„ØªÙƒÙ„ÙØ© <span id="sort-icon-costPrice"></span>
                                </th>
                                <th scope="col"
                                    class="px-3 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider">
                                    Ø§Ù„Ø±Ø¨Ø­ Ø§Ù„Ù…Ø­ØªÙ…Ù„/Ø§Ù„ÙˆØ­Ø¯Ø©
                                </th>
                                <th scope="col"
                                    class="px-3 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider">
                                    Ø§Ù„Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„Ù…Ø­ØªÙ…Ù„
                                </th>
                                <th scope="col" data-sort="expiryDate"
                                    class="px-3 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-gray-200 transition"
                                    onclick="handleSortChange('expiryDate')">
                                    ØªØ§Ø±ÙŠØ® Ø§Ù„Ø§Ù†ØªÙ‡Ø§Ø¡ <span id="sort-icon-expiryDate"></span>
                                </th>
                                <th scope="col"
                                    class="px-3 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider">
                                    Ø§Ù„Ø­Ø§Ù„Ø©
                                </th>
                            </tr>
                        </thead>
                        <tbody id="inventory-tbody" class="bg-white divide-y divide-gray-200">
                        </tbody>
                    </table>
                    <p id="no-results-message" class="text-center py-4 text-gray-500 hidden">Ù„Ø§ ØªÙˆØ¬Ø¯ Ø£ØµÙ†Ø§Ù Ù…Ø·Ø§Ø¨Ù‚Ø© Ù„Ù†ØªØ§Ø¦Ø¬
                        Ø§Ù„Ø¨Ø­Ø«.</p>
                </div>
            </div>
        </main>
    </div>
</body>

</html>